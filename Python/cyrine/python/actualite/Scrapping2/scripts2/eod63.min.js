function is_touch_device() {
    return "ontouchstart"in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0
}
function setPeriodStyle(n) {
    [].forEach.call(VNA.qsa("#period_btn .menu_e div"), function(n) {
        n.classList.remove("co_g2");
        n.removeAttribute("style")
    });
    var t;
    if (n > 20)
        t = n < 1825 ? 0 : n < 5475 ? 7 : 30,
        [].forEach.call(VNA.qsa("#period_btn .menu_e div"), function(n) {
            parseInt(n.getAttribute("aria-label")) < t && (n.classList.add("co_g2"),
            n.setAttribute("style", "cursor:default"))
        });
    else {
        switch (n) {
        case 1:
        case 2:
            t = -1;
            break;
        case 5:
            t = -5;
            break;
        case 10:
            t = -10;
            break;
        case 15:
            t = -15
        }
        [].forEach.call(VNA.qsa("#period_btn .menu_e div"), function(n) {
            parseInt(n.getAttribute("aria-label")) > t && (n.classList.add("co_g2"),
            n.setAttribute("style", "cursor:default"))
        })
    }
}
function isCanvasSupported() {
    var n = document.createElement("canvas");
    return !!(n.getContext && n.getContext("2d"))
}
function resizeFullScreen() {
    var n = getBrowserSize().height
      , t = n - 115;
    eodcont.style.height = t + "px";
    VGP.$graph1.set_screenSize()
}
function getBrowserSize() {
    return typeof innerWidth == "number" ? {
        width: window.innerWidth,
        height: window.innerHeight
    } : {
        width: document.documentElement.clientWidth,
        height: document.documentElement.clientHeight
    }
}
function fullscreenBtn(n) {
    if (endGomme(),
    n.preventDefault(),
    closeDeroul(),
    VNA.gi("eod_fullscreen").classList.contains("eod_fullscreen_on"))
        return VNA.gi("eod_fullscreen").setAttribute("class", ""),
        eodcont.style.height = "580px",
        VNA.gi("fullscreen_btn").classList.remove("eodi_fullscreenout"),
        VNA.gi("fullscreen_btn").classList.add("eodi_fullscreen"),
        VGP.$graph1.set_screenSize(),
        !1;
    VNA.gi("eod_fullscreen").setAttribute("class", "eod_fullscreen_on");
    VNA.gi("fullscreen_btn").classList.remove("eodi_fullscreen");
    VNA.gi("fullscreen_btn").classList.add("eodi_fullscreenout");
    resizeFullScreen()
}
function btnSettings(n) {
    n.preventDefault();
    endGomme();
    closeDeroul();
    VGP.$graph1.closeToolsParams();
    VGP.CCparam = VGP.$graph1.get_parametres();
    loadPopupHelp("graph_look8", 450)
}
function btnCapture(n) {
    endGomme();
    n.preventDefault();
    closeDeroul();
    VGP.$graph1.closeToolsParams();
    var i = VGP.$graph1.screenCapture("ilboursa.com")
      , r = VGP.$graph1.get_name()
      , t = new XMLHttpRequest;
    t.open("POST", VGP.urlWS + "UploadImage", !0);
    t.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    t.onload = function() {
        if (t.status >= 200 && t.status < 400) {
            var n = t.responseText;
            n != null && (sessionStorage.setItem("eod_urlphoto", n + "_" + VGP.symbol + "_" + r),
            loadPopupHelp("graph_url6"))
        }
    }
    ;
    t.send(JSON.stringify(i))
}
function btnSavem(n) {
    n.preventDefault();
    endGomme();
    VGP.$graph1.closeToolsParams();
    VGP.savedChart = null;
    loadPopupHelp("graph_save3")
}
function bsnSavenew(n) {
    n.preventDefault();
    endGomme();
    VGP.$graph1.closeToolsParams();
    VGP.savedChart = VGP.$graph1.saveTemplate();
    loadPopupHelp("graph_save3")
}
function bsnSaveConfig(n) {
    var u, i, r, t;
    if (n.preventDefault(),
    u = VNA.gi("dlTemplates").value,
    u == "")
        return !1;
    i = VNA.qs("#dlTemplates option:checked").textContent;
    endGomme();
    VGP.$graph1.closeToolsParams();
    r = VGP.$graph1.saveTemplate(i);
    t = new XMLHttpRequest;
    t.open("POST", VGP.urlWS + "UpdateConfigEOD", !0);
    t.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    t.send(JSON.stringify({
        configname: i,
        parametres: r.p,
        layers: r.l,
        userid: VGP.userID
    }));
    DisplayAlert("Votre modèle a été mis à jour", !0)
}
function btnTools(n) {
    if (n.stopPropagation(),
    n.preventDefault(),
    stopFunctions())
        return !1;
    var t = VNA.qs("#tools_btn div:first-child");
    t.offsetParent == null ? (VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function btnPeriod(n) {
    var t, i;
    if (endGomme(),
    n.stopPropagation(),
    n.preventDefault(),
    isSeasonChart())
        return !1;
    t = VNA.qs("#period_btn div:first-child");
    t.offsetParent == null ? (i = VGP.$graph1.get_parametres(),
    setPeriodStyle(i.histoLength),
    VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function btnDuree(n) {
    if (endGomme(),
    n.stopPropagation(),
    n.preventDefault(),
    isSeasonChart())
        return !1;
    var t = VNA.qs("#duree_btn div:first-child");
    t.offsetParent == null ? (VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function btnStyle(n) {
    endGomme();
    n.stopPropagation();
    n.preventDefault();
    var t = VNA.qs("#style_btn div:first-child");
    t.offsetParent == null ? (VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function btnIndics(n) {
    if (endGomme(),
    n.stopPropagation(),
    n.preventDefault(),
    stopFunctions(2))
        return !1;
    var t = VNA.qs("#indics_btn div:first-child");
    t.offsetParent == null ? (VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function btnIndicM1(n) {
    if (n.stopPropagation(),
    n.preventDefault(),
    !VGP.dragging) {
        var t = n.target.getAttribute("aria-label");
        VNA.qsahide(".menu_i");
        VGP.$graph1.indic1_menu(t)
    }
}
function btnIndicM2(n) {
    (n.stopPropagation(),
    n.preventDefault(),
    VGP.dragging) || (VNA.qsahide(".menu_i"),
    VGP.$graph1.indics_menu(n.target.getAttribute("aria-label")))
}
function btnIndicM3(n) {
    n.stopPropagation();
    n.preventDefault();
    VNA.qsahide(".menu_i");
    n.target.classList.contains("selected") ? (n.target.classList.remove("selected"),
    VGP.$graph1.removeSearch()) : (VNA.qsarclass(".menu_i3 div div", "selected"),
    n.target.classList.add("selected"),
    VGP.$graph1.addSearch(n.target.getAttribute("aria-label")))
}
function btnTrace(n) {
    if (endGomme(),
    n.stopPropagation(),
    n.preventDefault(),
    stopFunctions())
        return !1;
    VGP.$graph1.closeToolsParams();
    VGP.$graph1.trace_menu(n.target.getAttribute("name"))
}
function btnTraceLi(n) {
    var t, r, u, i;
    if (n.preventDefault(),
    n.stopPropagation(),
    t = this.getAttribute("aria-label"),
    t == null)
        return VGP.clickHandler.indexOf("touchend") >= 0 && (VNA.qsahide(".niv2"),
        r = this.querySelector(".niv2"),
        r.style.display = "block"),
        !1;
    t == "hst" ? VGP.$graph1.hideShowTrace() : (VGP.$graph1.trace_menu(t),
    t != "e" && (u = this.getAttribute("class"),
    i = VNA.gi("trace_btn"),
    i.setAttribute("class", "eod_b3 tipt " + u),
    i.setAttribute("name", t)));
    VNA.qsahide("#trace_btn .menu_d")
}
function btnMenuDE(n) {
    var r, e, f;
    n.preventDefault();
    n.stopPropagation();
    var u = this.parentNode.parentNode, o = u.getAttribute("id"), t = this.getAttribute("aria-label"), i;
    switch (o) {
    case "duree_btn":
        switch (t) {
        case "1":
            r = -2;
            break;
        case "2":
            r = -5;
            break;
        case "5":
            r = -10;
            break;
        case "10":
            r = -30;
            break;
        case "15":
            r = -60
        }
        VGP.$graph1.duree_menu(t, r);
        break;
    case "period_btn":
        if (this.classList.contains("co_g2"))
            return !1;
        e = VGP.$graph1.get_parametres();
        f = e.histoLength;
        t = parseInt(t);
        f == 5 && t > -5 && t < 0 || f == 10 && t > -10 && t < 0 || f == 15 && t > -15 && t < 0 || VGP.$graph1.period_menu(t);
        break;
    case "style_btn":
        i = this.getAttribute("class");
        u.setAttribute("class", "eod_b2 tipt " + i);
        VGP.$graph1.style_menu(t);
        break;
    case "tools_btn":
        switch (t) {
        case "r":
            i = "eodi_cross";
            break;
        case "m":
            i = "eodi_mouse";
            break;
        case "g":
            i = "eodi_gomme";
            break;
        case "z":
            i = "eodi_zoom";
            break;
        case "b":
            i = "eodi_block";
            break;
        case "t":
            i = "eodi_tslte"
        }
        u.classList.contains(i) || VGP.$graph1.tools_menu(t) != !1 && u.setAttribute("class", "spg eod_b2 tipt " + i)
    }
    this.parentNode.style.display = "none"
}
function extResetTools() {
    VGP.$graph1.tools_menu("r");
    VNA.gi("tools_btn").setAttribute("class", "spg eod_b2 eodi_cross tipt l_mode")
}
function btnCompare(n) {
    n.preventDefault();
    endGomme();
    closeDeroul();
    var t = VGP.$graph1.get_parametres();
    if (VGP.$graph1.closeToolsParams(),
    stopFunctions())
        return !1;
    if (t.isIntraday || t.mainChart.type == "perf")
        return DisplayAlert("Les comparaisons ne sont pas possibles en mode 'performance'"),
        !1;
    loadPopupHelp("graph_compare6")
}
function stopFunctions(n) {
    var t = VGP.$graph1.get_chartType();
    return n == 2 && t == "perf" ? !1 : t == "perf" || t == "renko" || t == "line break" || t == "kagi" || t == "season" || t == "equivolume" || t == "point figure" ? !0 : !1
}
function btnDeroul(n) {
    if (endGomme(),
    n.stopPropagation(),
    n.preventDefault(),
    stopFunctions())
        return !1;
    var t = VNA.qs("#trace_btn .menu_d");
    t.offsetParent == null ? (VGP.$graph1.closeToolsParams(),
    closeDeroul(),
    t.style.display = "block") : t.style.display = "none"
}
function closeDeroul() {
    var t, n;
    [".menu_d", ".menu_i", ".menu_e"].forEach(function(i) {
        for (t = VNA.qsa(i),
        n = 0; n < t.length; n++)
            t[n].style.display = "none"
    })
}
function endGomme() {
    var n = VNA.gi("tools_btn");
    n.classList.contains("eodi_gomme") && (n.setAttribute("class", "spg eod_b2 tipt eodi_cross"),
    VGP.$graph1.stopGomme());
    n.classList.contains("eodi_zoom") && (n.setAttribute("class", "spg eod_b2 tipt eodi_cross"),
    VGP.$graph1.stopMZoom())
}
function btnZoom(n) {
    if (endGomme(),
    n.preventDefault(),
    isSeasonChart())
        return !1;
    this.classList.contains("eodi_zp") ? VGP.$graph1.zoom(!0) : VGP.$graph1.zoom(!1)
}
function openHelp(n) {
    return n.preventDefault(),
    window.open("/graphes/aide_graphique"),
    !1
}
function openBacktest(n) {
    endGomme();
    n.preventDefault();
    RodRequire(["/abcchart/RODTAE7.min.js", "/abcchart/RODCDL4.min.js", "/abcchart/RODTAD8.min.js"], function() {
        var n = VNA.gi("backtZone"), i, t;
        n.innerHTML == "" && (i = "/abcchart/backtestModule8",
        t = new XMLHttpRequest,
        t.onload = function() {
            var t, r, u, f;
            n.innerHTML = this.response;
            t = document.createElement("script");
            t.setAttribute("src", i + ".min.js");
            n.appendChild(t);
            r = document.createElement("script");
            r.setAttribute("src", "/scripts2/tablesort2.min.js");
            n.appendChild(r);
            u = document.createElement("script");
            u.setAttribute("src", "/abcchart/backtest4.min.js");
            n.appendChild(u);
            f = RODTL.offset(n);
            window.scrollTo(f.left, f.top)
        }
        ,
        t.open("GET", i + ".html", !0),
        t.send())
    })
}
function isSeasonChart() {
    return VGP.$graph1.get_chartType() == "season" ? !0 : !1
}
function clickAnywhere() {
    closeDeroul()
}
function launchTimers() {}
function getChartRefresh() {}
function stopTimers() {}
function loadConfig(n, t) {
    var i = new XMLHttpRequest;
    i.open("POST", VGP.urlWS + "LoadConfigEOD", !0);
    i.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    i.onload = function() {
        var u, n, f, r, e;
        i.status >= 200 && i.status < 400 && (u = JSON.parse(i.responseText),
        u != null && u != null && (n = u,
        t != null && (f = JSON.parse(n.Parametres),
        f.histoLength = t,
        n.Parametres = JSON.stringify(f)),
        isMobile && (r = JSON.parse(n.Parametres),
        r.set && !r.set.yaxis && (r.paddingLeft = 0),
        n.Parametres = JSON.stringify(r)),
        e = VGP.$graph1.loadTemplate(n),
        e != null && VNA.gi("style_btn").setAttribute("class", "spg eod_b2 tipt eodi_" + e)))
    }
    ;
    i.send(JSON.stringify({
        configname: n,
        userid: VGP.userID
    }))
}
function loadDefaut(n) {
    VGP.$graph1.loadDefautChart(n)
}
function changeDuree(n) {
    VGP.$graph1.duree_menu(n)
}
function settingsChangeTraceColor(n) {
    VGP.$graph1.settings_setTraceColor(n)
}
function settingsGetTraceColor() {
    return VGP.$graph1.settings_getTraceColor()
}
function settingsGetDefaut() {
    VGP.$graph1.settings_setdefaut()
}
function settingsSetAxis(n) {
    VGP.$graph1.settings_setAxis(n)
}
function settingsSetAxisLog(n) {
    VGP.$graph1.settings_setAxisLog(n)
}
function settingsSetSticky(n) {
    VGP.$graph1.settings_setSticky(n)
}
function settingsSetHighLow(n) {
    VGP.$graph1.settings_setHLSticky(n)
}
function settingsSetGrid(n) {
    VGP.$graph1.settings_setGridlineShow(n)
}
function settingsSetBackColor(n) {
    VGP.$graph1.settings_setBackColor(n)
}
function settingsSetGridColor(n) {
    VGP.$graph1.settings_setGridColor(n)
}
function settingsSetCadreColor(n) {
    VGP.$graph1.settings_setCadreColor(n)
}
function settingsSetTextColor(n) {
    VGP.$graph1.settings_setTextColor(n)
}
function settingsSetReticuleColor(n) {
    VGP.$graph1.settings_setReticuleColor(n)
}
function settingsSetGridH(n) {
    VGP.$graph1.settings_setGridlineH(n)
}
function settingsSetGridV(n) {
    VGP.$graph1.settings_setGridlineV(n)
}
function settingsSetIndicsValues(n) {
    VGP.$graph1.settings_setIndicValues(n)
}
function settingsSetEncadre(n) {
    VGP.$graph1.settings_setEncadreShow(n)
}
function settingsNoVeille(n) {
    VGP.$graph1.settings_setNoVeilleIntra(n)
}
function loadCompare(n) {
    VGP.$graph1.compare(n)
}
function settingsSetFontSize(n) {
    VGP.$graph1.settings_changeFont(n)
}
function settingsSplitdayStyle(n) {
    VGP.$graph1.settings_setSplitdayStyle(n)
}
function settingsSplitdayColor(n) {
    VGP.$graph1.settings_setSplitdayColor(n)
}
var lang = {
    l_cross: "RETICULE",
    l_pointer: "POINTEUR",
    l_eraser: "GOMME",
    l_1d: "1 JOUR",
    l_2d: "2 JOURS",
    l_5d: "5 JOURS",
    l_10d: "10 JOURS",
    l_15d: "15 JOURS",
    l_3m: "3 MOIS",
    l_6m: "6 MOIS",
    l_1y: "1 AN",
    l_2y: "2 ANS",
    l_5y: "5 ANS",
    l_10y: "10 ANS",
    l_15y: "15 ANS",
    l_20y: "20 ANS",
    l_25y: "25 ANS",
    l_1min: "1 MINUTE",
    l_2min: "2 MINUTES",
    l_5min: "5 MINUTES",
    l_10min: "10 MINUTES",
    l_15min: "15 MINUTES",
    l_30min: "30 MINUTES",
    l_1h: "1 HEURE",
    l_2h: "2 HEURES",
    l_4h: "4 HEURES",
    l_day: "JOUR",
    l_week: "HEBDO",
    l_month: "MENSUEL",
    l_area: "AIRE",
    l_bcc: "BAR CHART COLORÉS",
    l_candle: "BOUGIES",
    l_line: "LIGNE",
    l_season: "SAISONNALITÉ",
    l_mainind: "INDICATEURS PRINCIPAUX",
    l_boll: "BANDES DE BOLLINGER",
    l_keltner: "BANDES DE KELTNER",
    l_donchian: "CANAL DE DONCHIAN",
    l_regcurve: "COURBE REGRESSION LINEAIRE",
    l_regline: "DROITE REGRESSION LINEAIRE",
    l_envmm: "ENVELOPPE MOYENNE MOBILE",
    l_fievt: "EVENEMENTS FINANCIERS",
    l_mm: "MOYENNE MOBILE",
    l_mmh: "MOYENNE MOBILE DE HULL",
    l_mme: "MOYENNE MOBILE EXPO.",
    l_mmp: "MOYENNE MOBILE PONDEREE",
    l_mmt: "MOYENNE TRIANGULAIRE",
    l_sar: "PARABOLIQUE SAR",
    l_pivots: "POINTS PIVOTS",
    l_secind: "INDICATEURS SECONDAIRES",
    l_coppock: "COURBE DE COPPOCK",
    l_macdh: "MACD HISTOGRAMME",
    l_linearo: "OSCILL. REGRESSION LINEAIRE",
    l_moonphase: "PHASES DE LUNE",
    l_stoch: "STOCHASTIQUE",
    l_stochm: "STOCHASTIQUE MOMENTUM",
    l_stochr: "STOCHASTIQUE RSI",
    t_volume: "VOLUMES",
    l_fiboa: "ARCS DE FIBONACCI",
    l_fiboc: "CYCLES DE FIBONACCI",
    l_fibof: "FANIONS DE FIBONACCI",
    l_fiboe: "EXTENSIONS FIBONACCI",
    l_fibor: "RETRACEMENTS FIBONACCI",
    l_figures: "FIGURES",
    l_circle: "ELLIPSE - CERCLE",
    l_arrup: "FLECHE ACHAT",
    l_arrdw: "FLECHE VENTE",
    l_arrrt: "FLECHE DROITE",
    l_arrlt: "FLECHE GAUCHE",
    l_icones: "ICONES",
    l_arrow: "FLECHE",
    l_pitchf: "FOURCHETTE D'ANDREWS",
    l_ganng: "GRILLE DE GANN",
    l_ganna: "ANGLES DE GANN",
    l_horiz: "HORIZONTALE",
    l_verti: "VERTICALE",
    l_mesure: "MESURE",
    l_mesurev: "MESURE VERTICALE",
    l_mesureh: "MESURE HORIZONTALE",
    l_oblic: "OBLIQUE",
    l_para: "PARALLELES",
    l_eraseall: "TOUT EFFACER",
    l_ewi: "VAGUES D'IMPULSION",
    l_ewc: "VAGUES DE CORRECTION",
    l_detect: "DETECTIONS",
    l_marteau: "MARTEAUX",
    l_pendu: "PENDUS",
    l_pinces: "PINCES",
    l_maru: "MARUBOZU",
    l_soldiers: "3 SOLDATS",
    l_englob: "ENGLOBANTES",
    l_compare: "COMPARER",
    l_thclair: "THEME CLAIR",
    l_thfonce: "THEME FONCE",
    l_1g: "1 GRAPHIQUE",
    l_2g: "2 GRAPHIQUES",
    l_3g: "3 GRAPHIQUES",
    l_4g: "4 GRAPHIQUES",
    l_save: "Enregistrer",
    l_savenew: "Nouveau...",
    l_gerer: "Gérer",
    l_modeles: "Vos modèles de graphiques",
    l_interface: "Vos interfaces",
    l_modify: "Modifier",
    l_infos: "INFOS",
    l_btnlog: "Connectez-vous pour sauver vos personnalisations",
    l_mode: "Mode",
    l_duree: "Durée",
    l_period: "Période",
    l_style: "Style des cours",
    l_indics: "Indicateurs",
    l_tracet: "Outils de tracés",
    l_patterns: "Recherche de figures techniques",
    l_comparer: "Comparer avec une autre valeur",
    l_capture: "Capturer l'écran et partager",
    l_reglages: "Réglages",
    l_dispo: "Disposition de l'écran",
    l_help: "Aide en ligne",
    l_backt: "Stratégies",
    l_alert: "Alertes SMS",
    l_fullscreen: "Plein écran",
    l_save2: "Mise à jour du modèle en cours",
    l_savenew2: "Enregistre un nouveau modèle",
    l_gerer2: "Gérer vos modèles",
    l_save3: "Mise à jour de l'interface en cours",
    l_savenew3: "Enregistre une nouvelle interface",
    l_gerer3: "Gérer vos interfaces",
    l_searchsym: "Recherche valeur",
    l_msg1: "Vous pouvez mettre 4 indicateurs au maximum sous le graphique",
    l_msg2: "Vous pouvez mettre 6 indicateurs au maximum sous le graphique",
    l_msg3: "Il n'y a pas de cotations intraday pour cette valeur",
    l_msg4: "Pas de cotations disponible pour cette valeur",
    l_ptpivot: "Points Pivots",
    l_fievents: "EVENEMENTS",
    l_actus: "ACTUALITES",
    l_mm2: "MM",
    l_mmt2: "MM Triang.",
    l_mmp2: "MM Pondérée",
    l_mmh2: "MM Hull",
    l_regcurve2: "LINEAR REG",
    l_regline2: "DROITE Reg. Lin.",
    l_mme2: "MM Expo",
    l_envmm2: "ENVELOPPE MM",
    l_seasonleg: "Pourcentage et performance des mois haussiers et baissiers des 10 dernières années",
    l_months: ["Janv.", "Févr.", "Mars", "Avril", "Mai", "Juin", "Juill.", "Août", "Sept.", "Oct.", "Nov.", "Déc."],
    l_up: "Hausse",
    l_down: "Baisse",
    l_moy: "Moy.",
    l_cours: "COURS",
    l_b: "B",
    l_m: "M",
    l_p: "P",
    l_s: "S",
    l_varperiod: "VARIATION PERIODE",
    l_automatic: "Automatique",
    l_upperb: "Seuil haut",
    l_lowerb: "Seuil bas",
    l_zone: "Zone",
    l_traitfi: "Trait fin",
    l_traitep: "Trait épais",
    l_moymob: "Moyenne mobile",
    l_datasource: '<div class="clearfix pad5">Source de données <select id="datasource"><option value="c">Clôture<\/option><option value="o">Ouverture<\/option><option value="h">Plus haut<\/option><option value="l">Plus bas<\/option><option value="m">(Haut + Bas)/2<\/option><option value="m2">(Haut + Bas + Clôt)/3<\/option><option value="m3">(Ouv + Haut + Bas + Clôt)/4<\/option><\/select><\/div>',
    l_suppindic: "Supprimer cet indicateur",
    l_resultat: "Résultat ",
    l_chifaff: "Chiffre d'affaires ",
    l_dividend: "Détachement dividende<\/b><\/br>Montant: ",
    l_split: "Division du nominal<\/b><\/br>Division par: ",
    l_supprimer: "Supprimer",
    l_dupliquer: "Dupliquer",
    l_createalert: "Créer une alerte",
    l_barres: " barres",
    l_jours: " jours",
    l_prd: "Période",
    l_ec: "Ecart-type",
    l_trace: "Tracé",
    l_remplis: "Remplissage",
    l_droitereg: "Droite régression",
    l_barrep: "Barre (%)",
    l_hausses: "Hausses",
    l_baisses: "Baisses",
    l_moyenne: "Moyenne",
    l_moymobile: "Moyenne mobile",
    l_variation: "Variation (%)",
    l_moymobp: "Moyenne mob. P",
    l_moymobe: "Moyenne mob. E",
    l_moymobt: "Moyenne mob. T",
    l_ecart: "Ecart(%)",
    l_coeff: "Coefficient",
    l_ecart2: "Ecart",
    l_atrperiod: "Période ATR",
    l_ombres: "Ombres",
    l_tboite: "Taille boite",
    l_border: "Encadrés",
    l_lines: "Lignes",
    l_histogram: "Histogramme",
    l_ascend: "Ascendant",
    l_descend: "Descendant",
    l_acheteur: "Acheteur",
    l_vendeur: "Vendeur",
    l_neutre: "Neutre",
    l_stok: "Lissage %K",
    l_stod: "Lissage %D",
    l_lissage: "Lissage",
    l_stochastic: "Stochastique",
    l_accel: "Accélération",
    l_lineareg: "Regression linéaire",
    l_nomvaleur: "Nom de valeur",
    l_comparewith: "Comparer cette valeur",
    l_indice: "Avec un indice ",
    l_aucun: "Aucun",
    l_titresect: "Avec un titre du secteur ",
    l_autrevaleur: "Avec une autre valeur "
}, isMobile = VNA.gi("ismobile").textContent == "True" ? !0 : !1, VGP = {
    dragging: !1,
    timer1: null,
    CCparam: null,
    savedChart: null,
    noAutoSaveTrace: !0,
    noAutoReadTrace: !0,
    drawings: [],
    $graph1: [],
    clickHandler: ["click"],
    isSms: !0,
    symbol: null,
    urlWS: "/api/charting/",
    tabCache: [],
    noCommand: !1,
    userID: VNA.gi("userid").textContent,
    isMobile: isMobile
}, eodcont, template, histo, dltemplates, btnLogin, listSrd, listPlace, btnHelp, btnBTest;
if (isMobile && VNA.gi("tools_btn").setAttribute("class", "spg eod_b2 eodi_block tipt l_mode"),
eodcont = VNA.gi("eod_container1"),
template = eodcont.getAttribute("data-temp"),
VGP.symbol = eodcont.getAttribute("data-name"),
VGP.symbol == null && (VGP.symbol = "PX1"),
is_touch_device() && (VGP.clickHandler = ["touchend", "click"],
VNA.gi("eodi_tslte").setAttribute("class", "spg eodi_tslte"),
VNA.gi("eodi_block").setAttribute("class", "spg eodi_block")),
VNA.qs("body").addEventListener("touchmove", function() {
    VGP.dragging = !0
}),
VNA.qs("body").addEventListener("touchstart", function() {
    VGP.dragging = !1
}),
isCanvasSupported()) {
    switch (template) {
    default:
        histo = 365;
        break;
    case "lc2":
        histo = 90;
        break;
    case "lc3":
        histo = 180;
        break;
    case "lc5":
        histo = 730;
        break;
    case "lc6":
        histo = 1825;
        break;
    case "lc7":
        histo = 3650
    }
    if (VGP.$graph1 = new RODGraph({
        symbol: VGP.symbol,
        callID: "eod_container1"
    }),
    VNA.gi("userid").textContent != "0") {
        var select = VNA.qs("#dlTemplates option:checked")
          , configname = select.textContent
          , configval = select.value;
        configname != "" && configname != null && configval == "1" ? loadConfig(configname, histo) : loadDefaut({
            histoLength: histo,
            paddingLeft: 0,
            mainChart: {
                type: "line",
                typedef: {
                    color: "rgba(160,160,160,1)",
                    color2: "rgba(204,204,204,0.7)",
                    w1: 3
                }
            },
            indicators: ["volume"]
        });
        dltemplates = VNA.gi("dlTemplates");
        dltemplates && dltemplates.addEventListener("change", function() {
            var n = VNA.qs("#dlTemplates option:checked");
            if (n.value == "")
                return !1;
            endGomme();
            loadConfig(n.textContent)
        });
        VGP.clickHandler.forEach(function(n) {
            VNA.qs(".eodi_savem").addEventListener(n, btnSavem)
        });
        VGP.clickHandler.forEach(function(n) {
            VNA.qs(".eodi_savenew").addEventListener(n, bsnSavenew)
        });
        VGP.clickHandler.forEach(function(n) {
            VNA.qs(".eodi_save").addEventListener(n, bsnSaveConfig)
        })
    } else
        btnLogin = VNA.gi("btnlogin"),
        btnLogin.textContent = lang.l_btnlog,
        btnLogin.setAttribute("onclick", "location.href='/users/login?ReturnUrl=%2fmarches%2fgraph%2f" + VGP.symbol + "'"),
        btnLogin.style.display = "Block",
        loadDefaut({
            histoLength: histo,
            paddingLeft: 0,
            mainChart: {
                type: "line",
                typedef: {
                    color: "rgba(160,160,160,1)",
                    color2: "rgba(204,204,204,0.7)",
                    w1: 3
                }
            },
            indicators: ["volume"]
        })
} else
    VNA.qsahide(".eod_graphcommands"),
    VNA.gi("botm_graphcommand").style.display = "none",
    template != null && (eodcont.innerHTML = '<img src="https://www.ilboursa.com/marches/_graphe_eod?s=' + VGP.symbol + "&ind1=1&t=" + template + '" />');
window.addEventListener("resize", function() {
    VNA.gi("eod_fullscreen").classList.contains("eod_fullscreen_on") && resizeFullScreen()
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("fullscreen_btn").addEventListener(n, fullscreenBtn)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eodi_settings").addEventListener(n, btnSettings)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eodi_capture").addEventListener(n, btnCapture)
});
[].forEach.call(VNA.qsa("#listSrd option"), function(n) {
    n.value == "" && n.setAttribute("class", "bk_bc co_w")
});
listSrd = VNA.gi("listSrd");
listSrd && listSrd.addEventListener("change", function() {
    var n = this.value;
    if (n == "")
        return !1;
    VGP.$graph1.change_symbol(n)
});
listPlace = VNA.gi("dlPlace");
listPlace && listPlace.addEventListener("change", function() {
    var t = this.value
      , n = new XMLHttpRequest;
    n.open("POST", "/applet/graphe_dynamique/GetMarket", !0);
    n.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
    n.onload = function() {
        var i, r, u, t, f;
        if (n.status >= 200 && n.status < 400 && (i = JSON.parse(n.responseText),
        i != null && i.d != null))
            for (u = VNA.gi("listSrd"),
            u.innerHTML = "",
            t = document.createElement("option"),
            t.textContent = "Choisissez une valeur",
            t.value = "",
            u.appendChild(t),
            f = i.d.length,
            r = 0; r < f; r++)
                t = document.createElement("option"),
                t.textContent = i.d[r].N,
                t.value = i.d[r].T,
                u.appendChild(t)
    }
    ;
    n.send(JSON.stringify({
        place: t
    }))
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("tools_btn").addEventListener(n, btnTools)
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("period_btn").addEventListener(n, btnPeriod)
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("duree_btn").addEventListener(n, btnDuree)
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("style_btn").addEventListener(n, btnStyle)
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("indics_btn").addEventListener(n, btnIndics)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".menu_i1 div").addEventListener(n, btnIndicM1)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".menu_i2 div").addEventListener(n, btnIndicM2)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".menu_i3 div").addEventListener(n, btnIndicM3)
});
VGP.clickHandler.forEach(function(n) {
    VNA.gi("trace_btn").addEventListener(n, btnTrace)
});
VGP.clickHandler.forEach(function(n) {
    var t = VNA.qsa(".navig_trace li");
    [].forEach.call(t, function(t) {
        t.addEventListener(n, btnTraceLi)
    })
});
[].forEach.call(VNA.qsa(".menu_d div"), function(n) {
    VGP.clickHandler.forEach(function(t) {
        n.addEventListener(t, btnMenuDE)
    })
});
[].forEach.call(VNA.qsa(".menu_e div"), function(n) {
    VGP.clickHandler.forEach(function(t) {
        n.addEventListener(t, btnMenuDE)
    })
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eod_compare").addEventListener(n, btnCompare)
});
tiptMe();
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eod_deroul").addEventListener(n, btnDeroul)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eodi_zp").addEventListener(n, btnZoom)
});
VGP.clickHandler.forEach(function(n) {
    VNA.qs(".eodi_zm").addEventListener(n, btnZoom)
});
btnHelp = VNA.qs(".eodi_help");
btnHelp && VGP.clickHandler.forEach(function(n) {
    btnHelp.addEventListener(n, openHelp)
});
btnBTest = VNA.qs(".eodi_bt");
btnBTest && VGP.clickHandler.forEach(function(n) {
    btnBTest.addEventListener(n, openBacktest)
});
VGP.clickHandler.forEach(function(n) {
    document.addEventListener(n, clickAnywhere)
});
