function isNumberKey(n) {
    var t = n.which ? n.which : n.keyCode;
    return t == 44 || t == 46 ? !0 : t > 31 && (t < 48 || t > 57) ? !1 : !0
}
function setFxArray(n) {
    for (var u = VNA.gi("txtCurr1").value.replace(",", "."), r = ["USD", "EUR", "CHF", "GBP", "JPY", "GHS", "NGN", "XOF", "TND"], f = ["$", "€", "Fr", "£", "&yen;", "₵", "₦", "FCFA", "TND"], e = r.length, t, i = 0; i < e; i++)
        t = convertfx(n, r[i]) * u,
        t = t > 1e3 ? t.toFixed(0) : t > 100 ? t.toFixed(1) : t > 10 ? t.toFixed(2) : t.toFixed(3),
        VNA.gi("t" + r[i]).innerHTML = t + " " + f[i]
}
function convertfx(n, t) {
    if (n == t)
        return 1;
    var i = dicoUSD[n]
      , r = dicoUSD[t];
    return i / r
}
function AjaxSucceed(n) {
    var t, i;
    VNA.gi("lblRate").textContent = n.toFixed(7);
    t = VNA.gi("currency1").value;
    VNA.gi("lblParity").textContent = " " + VNA.gi("currency2").value + "/" + t;
    VNA.gi("imgC1").setAttribute("src", "/5/flag/" + t + ".png");
    i = VNA.gi("txtCurr1").value.replace(",", ".");
    i = i * n;
    VNA.gi("txtCurr2").value = i.toFixed(3);
    setFxArray(t)
}
function AjaxSucceed2(n) {
    var i, r, t;
    VNA.gi("lblRate").textContent = n.toFixed(7);
    i = VNA.gi("currency2").value;
    r = VNA.gi("currency1").value;
    VNA.gi("lblParity").textContent = " " + i + "/" + r;
    VNA.gi("imgC2").setAttribute("src", "/5/flag/" + i + ".png");
    t = VNA.gi("txtCurr1").value.replace(",", ".");
    t = t * n;
    VNA.gi("txtCurr2").value = t.toFixed(3);
    setFxArray(r)
}
var dicoUSD = JSON.parse(VNA.gi("basefx").textContent), s1 = VNA.gi("currency1").value, s2 = VNA.gi("currency2").value, rate;
VNA.gi("txtCurr1").value = "1";
rate = convertfx(s1, s2);
VNA.gi("txtCurr2").value = rate.toFixed(4);
VNA.gi("lblRate").textContent = rate.toFixed(7);
setFxArray(s1);
VNA.gi("swap").addEventListener("click", function() {
    var r = VNA.gi("imgC1").getAttribute("src")
      , u = VNA.gi("imgC2").getAttribute("src")
      , t = VNA.gi("currency1").value
      , n = VNA.gi("currency2").value
      , i = VNA.gi("txtCurr1").value.replace(",", ".")
      , f = VNA.gi("txtCurr2").value.replace(",", ".")
      , e = i / f;
    VNA.gi("imgC1").setAttribute("src", u);
    VNA.gi("imgC2").setAttribute("src", r);
    VNA.gi("currency1").value = n;
    VNA.gi("currency2").value = t;
    VNA.gi("txtCurr2").value = (i * e).toFixed(4);
    setFxArray(n);
    VNA.gi("lblParity").textContent = " " + t + "/" + n;
    VNA.gi("lblRate").textContent = convertfx(n, t).toFixed(7)
});
VNA.gi("txtCurr1").addEventListener("keyup", function() {
    var n = this.value.replace(",", ".")
      , t = VNA.gi("lblRate").textContent;
    n = n * t;
    VNA.gi("txtCurr2").value = n.toFixed(3);
    setFxArray(VNA.gi("currency1").value)
});
VNA.gi("txtCurr2").addEventListener("keyup", function() {
    var n = this.value.replace(",", ".")
      , t = VNA.gi("lblRate").textContent;
    n = n / t;
    VNA.gi("txtCurr1").value = n.toFixed(3);
    setFxArray(VNA.gi("currency1").value)
});
VNA.gi("currency1").addEventListener("change", function() {
    var n = this.value
      , t = VNA.gi("currency2").value;
    if (n == "" || t == "")
        return !1;
    AjaxSucceed(convertfx(n, t))
});
VNA.gi("currency2").addEventListener("change", function() {
    var n = this.value
      , t = VNA.gi("currency1").value;
    if (t == "" || n == "")
        return !1;
    AjaxSucceed2(convertfx(t, n))
});
